\documentclass{MainStyle}

\usepackage{amsthm, amsfonts, amsmath, amssymb, quiver, mathrsfs, newclude, tikz-cd, ctex}

% Customise href Colours.
\usepackage[colorlinks = true,
            linkcolor = blue,
            urlcolor  = blue,
            citecolor = blue,
            anchorcolor = blue]{hyperref}

\newcommand{\changeurlcolor}[1]{\hypersetup{urlcolor=#1}}       

\newcommand*{\name}{张陈成}
\newcommand*{\id}{023071910029}
\newcommand*{\course}{$K$-理论笔记}
\newcommand*{\assignment}{Noether 环上的投射模与平坦模}

\theoremstyle{definition}
\newtheorem{example}{例}

\theoremstyle{definition}
\newtheorem{slogan}{原旨}

\theoremstyle{definition}
\newtheorem{definition}{定义}

\theoremstyle{definition}
\newtheorem{proposition}{命题}

\theoremstyle{definition}
\newtheorem{problem}{问题}

\theoremstyle{definition}
\newtheorem{assumption}{假定}

\theoremstyle{definition}
\newtheorem{theorem}{定理}

\theoremstyle{remark}
\newtheorem{remark}{注}

\theoremstyle{remark}
\newtheorem{lemma}{引理}
\allowdisplaybreaks

\begin{document}
\maketitle
\tableofcontents

\section{有限展示与有限生成模}

\begin{definition}[有限生成, 有限展示]
    对环 $R$-模 $X$, 有以下定义.
    \begin{enumerate}
        \item 称 $X$ 是有限生成的, 若存在有限集 $S$ 使得 $S\cdot R\simeq X$. 换言之, 存在正合列
              \begin{equation*}
                  R^n\longrightarrow X\longrightarrow 0.
              \end{equation*}
        \item 称 $X$ 是有限展示的, 若存在正合列
              \begin{equation*}
                  R^m\longrightarrow R^n\longrightarrow X\longrightarrow 0.
              \end{equation*}
    \end{enumerate}
\end{definition}

\begin{remark}
    对任意模, 有限长度 $\implies$ 有限生成.
\end{remark}

\begin{remark}
    有限展示模是生成元间关系有限的有限生成模.
\end{remark}

\begin{proposition}
    Noether 环上的有限生成模等价于有限展示模.
    \begin{proof}
        考虑如下有限生成模的投射分解, 其中 $\kappa$ 是某一基数
        % https://q.uiver.app/#q=WzAsNixbNCwxLCJYIl0sWzUsMSwiMCJdLFsyLDEsIlJebiJdLFsxLDIsIlxcbWF0aHJte2tlcn0oZikiXSxbMCwxLCJSXlxca2FwcGEiXSxbMywwLCJYIl0sWzIsMCwiZiJdLFswLDFdLFs0LDJdLFsyLDUsIiIsMCx7InN0eWxlIjp7ImhlYWQiOnsibmFtZSI6ImVwaSJ9fX1dLFs1LDAsIiIsMCx7InN0eWxlIjp7InRhaWwiOnsibmFtZSI6Imhvb2siLCJzaWRlIjoidG9wIn19fV0sWzMsMiwiIiwwLHsic3R5bGUiOnsidGFpbCI6eyJuYW1lIjoiaG9vayIsInNpZGUiOiJib3R0b20ifX19XSxbNCwzLCIiLDEseyJzdHlsZSI6eyJoZWFkIjp7Im5hbWUiOiJlcGkifX19XV0=
        \[\begin{tikzcd}[row sep=small]
                &&& X \\
                {R^\kappa} && {R^n} && X & 0 \\
                & {\mathrm{ker}(f)}
                \arrow["f", from=2-3, to=2-5]
                \arrow[from=2-5, to=2-6]
                \arrow[from=2-1, to=2-3]
                \arrow[two heads, from=2-3, to=1-4]
                \arrow[hook, from=1-4, to=2-5]
                \arrow[hook', from=3-2, to=2-3]
                \arrow[two heads, from=2-1, to=3-2]
            \end{tikzcd}.\]
        由于 $\mathrm{ker}(f)$ 作为 Noether 环上的模是有限生成的, 从而可取 $\kappa<\omega $. 反之显然.
    \end{proof}
\end{proposition}

\begin{proposition}\label{quotient-fg}
    给定有限生成 $R$-模 $X$ 与态射 $X\overset{f}\longrightarrow f(X)$, 则 $f(X)$ 有限生成而 $\mathrm{ker}(f)$ 未必. 若 $f(X)$ 有限展示, 则 $\mathrm{ker}(f)$ 有限生成.
    \begin{proof}
        $X$ 的有限生成集在 $f$ 下的像仍有限生成; 对 $\mathrm{ker}(f)$, 考虑商环诱导的 $\mathbb R[X_1,\ldots]$-模同态
        \begin{align*}
            \mathbb R[X_1,\ldots]\to \mathbb R,\quad  f\mapsto f(0,\ldots),
        \end{align*}
        其核显然不是有限生成的.
        \begin{remark}
            该反例进而说明有限长度与有限展示互不包含.
        \end{remark}
        若 $f(X)$ 是有限展示的, 则有正合列间同态
        % https://q.uiver.app/#q=WzAsMTEsWzIsMSwiUl5uIl0sWzMsMSwiZihYKSJdLFsyLDIsIlgiXSxbMywyLCJmKFgpIl0sWzQsMiwiMCJdLFs0LDEsIjAiXSxbMSwyLCJcXG1hdGhybXtrZXJ9KGYpIl0sWzAsMiwiMCJdLFswLDEsIjAiXSxbMSwxLCJcXG1hdGhybXtrZXJ9KGZnKSJdLFsxLDAsIlJebSJdLFswLDEsImZnIl0sWzIsMywiZiIsMl0sWzMsNF0sWzEsNV0sWzEsMywiIiwxLHsibGV2ZWwiOjIsInN0eWxlIjp7ImhlYWQiOnsibmFtZSI6Im5vbmUifX19XSxbMCwyLCJnIiwyLHsic3R5bGUiOnsiaGVhZCI6eyJuYW1lIjoiZXBpIn19fV0sWzYsMl0sWzcsNl0sWzgsOV0sWzksMF0sWzksNiwiIiwxLHsic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn0sImhlYWQiOnsibmFtZSI6ImVwaSJ9fX1dLFswLDMsIiIsMix7InN0eWxlIjp7ImhlYWQiOnsibmFtZSI6ImVwaSJ9fX1dLFsxMCwwLCIiLDIseyJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJkb3R0ZWQifX19XSxbMTAsOSwiIiwyLHsic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZG90dGVkIn0sImhlYWQiOnsibmFtZSI6ImVwaSJ9fX1dXQ==
        \[\begin{tikzcd}
                & {R^m} \\
                0 & {\mathrm{ker}(fg)} & {R^n} & {f(X)} & 0 \\
                0 & {\mathrm{ker}(f)} & X & {f(X)} & 0
                \arrow["fg", from=2-3, to=2-4]
                \arrow["f"', from=3-3, to=3-4]
                \arrow[from=3-4, to=3-5]
                \arrow[from=2-4, to=2-5]
                \arrow[Rightarrow, no head, from=2-4, to=3-4]
                \arrow["g"', two heads, from=2-3, to=3-3]
                \arrow[from=3-2, to=3-3]
                \arrow[from=3-1, to=3-2]
                \arrow[from=2-1, to=2-2]
                \arrow[from=2-2, to=2-3]
                \arrow[dashed, two heads, from=2-2, to=3-2]
                \arrow[two heads, from=2-3, to=3-4]
                \arrow[dotted, from=1-2, to=2-3]
                \arrow[dotted, two heads, from=1-2, to=2-2]
            \end{tikzcd}.\]
        以上长虚线 $\mathrm{ker}(fg)\twoheadrightarrow \mathrm{ker}(f)$ 有核的泛性质给出, 满射性由五引理给出. 依照 $f(X)$ 的有限展示性给出 $R^m\to R^n$ 及其满-单分解, 即得 $\mathrm{ker}(f)$ 是 $R^m$ 的商, 从而有限生成.
    \end{proof}
\end{proposition}

\begin{proposition}
    仿照命题 \ref{quotient-fg}, 给定模正合列 $0\to K\to X\to Y\to 0$, 则有如下结论.
    \begin{enumerate}
        \item 若 $K$ 有限生成, $Y$ 有限生成, 则 $X$ 有限生成.
        \item 若 $X$ 有限生成, 则 $Y$ 有限生成, 但 $K$ 未必.
        \item 若 $X$ 有限生成, $Y$ 有限展示, 则 $K$ 有限生成. 即, 命题 \ref{quotient-fg}.
        \item 若 $K$ 有限生成, $X$ 有限展示, 则 $Y$ 有限展示.
        \item 若 $K$ 有限展示, $Y$ 有限展示, 则 $X$ 有限展示.
    \end{enumerate}
    \begin{proof}
        证明如下.
        \begin{enumerate}
            \item 取 $S_K\subseteq K$ 为 $K$ 的有限生成集, $S_Y\subseteq X$ 使得像 $\overline{S_Y}$ 是 $Y$ 的有限生成集, 且 $|S_Y|=|\overline{S_Y}|$. 命题由以下交换图给出:
                  % https://q.uiver.app/#q=WzAsMjEsWzEsMywiMCJdLFs1LDMsIjAiXSxbMiwzLCJLIl0sWzMsMywiWCJdLFs0LDMsIlkiXSxbNCwyLCJSXm0iXSxbMiwyLCJSXm4iXSxbMSwyLCIwIl0sWzUsMiwiMCJdLFszLDIsIlJee20rbn0iXSxbNCwxLCJcXG92ZXJsaW5lIHtTX1l9Il0sWzIsMSwiU19LIl0sWzMsMSwiU19LXFxkb3RcXGN1cCBTX1kiXSxbMSwxLCIwIl0sWzUsMSwiMCJdLFsyLDAsIm4iXSxbNCwwLCJtIl0sWzMsMCwibittIl0sWzAsMSwiXFxtYXRocm17U2V0fSJdLFswLDMsIlJcXG1hdGhybXstTW9kfSJdLFswLDIsIlJcXG1hdGhybXstRnJlZU1vZH0iXSxbMCwyXSxbMiwzXSxbMyw0XSxbNCwxXSxbNSw0LCIiLDAseyJzdHlsZSI6eyJoZWFkIjp7Im5hbWUiOiJlcGkifX19XSxbNiwyLCIiLDAseyJzdHlsZSI6eyJoZWFkIjp7Im5hbWUiOiJlcGkifX19XSxbNyw2XSxbNiw5XSxbOSw1XSxbNSw4XSxbOSwzLCIiLDEseyJzdHlsZSI6eyJoZWFkIjp7Im5hbWUiOiJlcGkifX19XSxbMTMsMTFdLFsxMSwxMl0sWzEyLDEwXSxbMTAsMTRdLFsxMSwxNSwifFxcY2RvdCB8Il0sWzEyLDE3LCJ8XFxjZG90IHwiXSxbMTAsMTYsInxcXGNkb3QgfCJdLFsxMSw2LCJSXFxjZG90IiwyXSxbMTIsOSwiUlxcY2RvdCIsMl0sWzEwLDUsIlJcXGNkb3QiLDJdXQ==
                  \[\begin{tikzcd}
                          && n & {n+m} & m \\
                          {\mathrm{Set}} & 0 & {S_K} & {S_K\dot\cup S_Y} & {\overline {S_Y}} & 0 \\
                          {R\mathrm{-FreeMod}} & 0 & {R^n} & {R^{m+n}} & {R^m} & 0 \\
                          {R\mathrm{-Mod}} & 0 & K & X & Y & 0
                          \arrow[from=4-2, to=4-3]
                          \arrow[from=4-3, to=4-4]
                          \arrow[from=4-4, to=4-5]
                          \arrow[from=4-5, to=4-6]
                          \arrow[two heads, from=3-5, to=4-5]
                          \arrow[two heads, from=3-3, to=4-3]
                          \arrow[from=3-2, to=3-3]
                          \arrow[from=3-3, to=3-4]
                          \arrow[from=3-4, to=3-5]
                          \arrow[from=3-5, to=3-6]
                          \arrow[two heads, from=3-4, to=4-4]
                          \arrow[from=2-2, to=2-3]
                          \arrow[from=2-3, to=2-4]
                          \arrow[from=2-4, to=2-5]
                          \arrow[from=2-5, to=2-6]
                          \arrow["{|\cdot |}", from=2-3, to=1-3]
                          \arrow["{|\cdot |}", from=2-4, to=1-4]
                          \arrow["{|\cdot |}", from=2-5, to=1-5]
                          \arrow["R\cdot"', from=2-3, to=3-3]
                          \arrow["R\cdot"', from=2-4, to=3-4]
                          \arrow["R\cdot"', from=2-5, to=3-5]
                      \end{tikzcd}.\]
            \item 有限生成模的像显然是有限生成模, 核未必, 见命题 \ref{quotient-fg}.
            \item 即命题 \ref{quotient-fg}.
            \item 考虑满射 $R^{m}\twoheadrightarrow X$ 与 $R^n\twoheadrightarrow K$ 诱导的正合列间同态, 则 $g$ 为满射. 根据蛇引理, 核 $\mathrm{ker}(f)\twoheadrightarrow \mathrm{ker}(g)$ 是满同态.
                  % https://q.uiver.app/#q=WzAsMTMsWzEsMiwiSyJdLFsyLDIsIlgiXSxbMywyLCJZIl0sWzMsMSwiUl5tIl0sWzIsMSwiUl57bStufSJdLFsyLDAsIlxca2VyKGYpIl0sWzEsMCwiUl5sIl0sWzMsMCwiXFxrZXIoZykiXSxbMSwxLCJSXm4iXSxbMCwxLCIwIl0sWzAsMiwiMCJdLFs0LDEsIjAiXSxbNCwyLCIwIl0sWzYsNSwiIiwxLHsic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn0sImhlYWQiOnsibmFtZSI6ImVwaSJ9fX1dLFs4LDAsIiIsMCx7InN0eWxlIjp7ImhlYWQiOnsibmFtZSI6ImVwaSJ9fX1dLFs0LDEsImYiLDAseyJzdHlsZSI6eyJoZWFkIjp7Im5hbWUiOiJlcGkifX19XSxbMywyLCJnIiwwLHsic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn0sImhlYWQiOnsibmFtZSI6ImVwaSJ9fX1dLFs1LDRdLFs3LDNdLFs1LDcsIiIsMCx7InN0eWxlIjp7ImJvZHkiOnsibmFtZSI6ImRhc2hlZCJ9LCJoZWFkIjp7Im5hbWUiOiJlcGkifX19XSxbOSw4XSxbMTAsMF0sWzIsMTJdLFszLDExXSxbNCwzXSxbMSwyXSxbOCw0XSxbMCwxXSxbMywxLCIiLDAseyJzdHlsZSI6eyJoZWFkIjp7Im5hbWUiOiJlcGkifX19XV0=
                  \[\begin{tikzcd}
                          & {R^l} & {\ker(f)} & {\ker(g)} \\
                          0 & {R^n} & {R^{m+n}} & {R^m} & 0 \\
                          0 & K & X & Y & 0
                          \arrow[dashed, two heads, from=1-2, to=1-3]
                          \arrow[two heads, from=2-2, to=3-2]
                          \arrow["f", two heads, from=2-3, to=3-3]
                          \arrow["g", dashed, two heads, from=2-4, to=3-4]
                          \arrow[from=1-3, to=2-3]
                          \arrow[from=1-4, to=2-4]
                          \arrow[dashed, two heads, from=1-3, to=1-4]
                          \arrow[from=2-1, to=2-2]
                          \arrow[from=3-1, to=3-2]
                          \arrow[from=3-4, to=3-5]
                          \arrow[from=2-4, to=2-5]
                          \arrow[from=2-3, to=2-4]
                          \arrow[from=3-3, to=3-4]
                          \arrow[from=2-2, to=2-3]
                          \arrow[from=3-2, to=3-3]
                          \arrow[two heads, from=2-4, to=3-3]
                      \end{tikzcd}.\]
                  由 $X$ 的有限展示性与命题 \ref{quotient-fg} 知 $\mathrm{ker}(f)$ 有限生成, 故存在某一 $R^l$ 到 $\mathrm{ker}(g)$ 的满射. 从而存在正合列 $R^l\to R^m\to Y\to 0$, 即, $Y$ 有限展示.

            \item 以上交换图给出自由模链复形到题设中短正合列的满态射. 根据蛇引理有
                  % https://q.uiver.app/#q=WzAsMTUsWzAsMiwiMCJdLFs0LDIsIjAiXSxbMSwyLCJLIl0sWzIsMiwiWCJdLFszLDIsIlkiXSxbMywxLCJSXm0iXSxbMSwxLCJSXm4iXSxbMCwxLCIwIl0sWzQsMSwiMCJdLFsyLDEsIlJee20rbn0iXSxbMSwwLCJcXGtlcl8xIl0sWzIsMCwiXFxrZXJfMiJdLFszLDAsIlxca2VyXzMiXSxbMCwwLCIwIl0sWzQsMCwiMCJdLFswLDJdLFsyLDNdLFszLDRdLFs0LDFdLFs1LDQsIiIsMCx7InN0eWxlIjp7ImhlYWQiOnsibmFtZSI6ImVwaSJ9fX1dLFs2LDIsIiIsMCx7InN0eWxlIjp7ImhlYWQiOnsibmFtZSI6ImVwaSJ9fX1dLFs3LDZdLFs2LDldLFs5LDVdLFs1LDhdLFs5LDMsIiIsMSx7InN0eWxlIjp7ImhlYWQiOnsibmFtZSI6ImVwaSJ9fX1dLFsxMCw2XSxbMTEsOV0sWzEyLDVdLFsxMCwxMV0sWzExLDEyXSxbMTMsMTBdLFsxMiwxNF0sWzEyLDI3LCIiLDEseyJjdXJ2ZSI6LTIsImxldmVsIjoxLCJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifSwiaGVhZCI6eyJuYW1lIjoibm9uZSJ9fX1dLFsyNywyMiwiXFxkZWx0YSIsMSx7ImN1cnZlIjoyLCJsZXZlbCI6MSwic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn0sImhlYWQiOnsibmFtZSI6Im5vbmUifX19XSxbMjIsMiwiIiwwLHsiY3VydmUiOi0xLCJsZXZlbCI6MSwic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn19fV1d
                  \[\begin{tikzcd}
                          0 & {\ker_1} & {\ker_2} & {\ker_3} & 0 \\
                          0 & {R^n} & {R^{m+n}} & {R^m} & 0 \\
                          0 & K & X & Y & 0
                          \arrow[from=3-1, to=3-2]
                          \arrow[from=3-2, to=3-3]
                          \arrow[from=3-3, to=3-4]
                          \arrow[from=3-4, to=3-5]
                          \arrow[two heads, from=2-4, to=3-4]
                          \arrow[two heads, from=2-2, to=3-2]
                          \arrow[from=2-1, to=2-2]
                          \arrow[""{name=0, anchor=center, inner sep=0}, from=2-2, to=2-3]
                          \arrow[from=2-3, to=2-4]
                          \arrow[from=2-4, to=2-5]
                          \arrow[two heads, from=2-3, to=3-3]
                          \arrow[from=1-2, to=2-2]
                          \arrow[""{name=1, anchor=center, inner sep=0}, from=1-3, to=2-3]
                          \arrow[from=1-4, to=2-4]
                          \arrow[from=1-2, to=1-3]
                          \arrow[from=1-3, to=1-4]
                          \arrow[from=1-1, to=1-2]
                          \arrow[from=1-4, to=1-5]
                          \arrow[curve={height=-12pt}, dashed, no head, from=1-4, to=1]
                          \arrow["\delta"{description}, curve={height=12pt}, dashed, no head, from=1, to=0]
                          \arrow[curve={height=-6pt}, dashed, from=0, to=3-2]
                      \end{tikzcd}.\]
                  根据命题 \ref{quotient-fg}, $\ker_3$ 与 $\mathrm{ker}_1$ 有限生成, 因此 $\ker_2$ 有限生成. 根据上一条, $X$ 有限展示.
        \end{enumerate}
    \end{proof}
\end{proposition}

\begin{proposition}
    对有限展示 $R$ 模 $X$ 与局部化函子 $S^{-1}(-)$, 有自然同构
    \begin{equation*}
        S^{-1}\mathrm{Hom}_R(X,-)\simeq \mathrm{Hom}_{S^{-1}R}(S^{-1}X,S^{-1}(-)).
    \end{equation*}
    \begin{proof}
        对任意 $f\in \mathrm{Hom}_R(X,Y)$, 定义 $S^{-1}R$-模同态 $S^{-1}(f):\dfrac{x}{s}\mapsto \dfrac{f(x)}{s}$. 遂有正合列的交换图
        % https://q.uiver.app/#q=WzAsMTgsWzIsMiwiU157LTF9XFxtYXRocm17SG9tfV9SKFgsWSkiXSxbMiwxLCIwIl0sWzIsMywiU157LTF9XFxtYXRocm17SG9tfV9SKFJebSxZKSJdLFsyLDQsIlNeey0xfVxcbWF0aHJte0hvbX1fUihSXm4sWSkiXSxbMCwxLCIwIl0sWzAsMiwiWCJdLFswLDMsIlJebSJdLFswLDQsIlJebiJdLFsxLDEsIjAiXSxbMSwyLCJcXG1hdGhybXtIb219X1IoWCxZKSJdLFsxLDMsIlxcbWF0aHJte0hvbX1fUihSXm0sWSkiXSxbMSw0LCJcXG1hdGhybXtIb219X1IoUl5uLFkpIl0sWzMsMywiXFxtYXRocm17SG9tfV97U157LTF9Un0oU157LTF9Ul5tLFNeey0xfVkpIl0sWzMsMiwiXFxtYXRocm17SG9tfV97U157LTF9Un0oU157LTF9WCxTXnstMX1ZKSJdLFszLDQsIlxcbWF0aHJte0hvbX1fe1Neey0xfVJ9KFNeey0xfVJebixTXnstMX1ZKSJdLFszLDEsIjAiXSxbMiwwLCIwIl0sWzMsMCwiMCJdLFsxLDBdLFsyLDNdLFswLDJdLFs1LDRdLFs2LDVdLFs3LDZdLFs4LDldLFs5LDEwXSxbMTAsMTFdLFsyLDEyLCJcXHNpbWVxIl0sWzMsMTQsIlxcc2ltZXEiXSxbMTMsMTJdLFsxMiwxNF0sWzAsMTNdLFsxNSwxM10sWzE2LDFdLFsxNywxNV0sWzEsMTUsIlxcc2ltZXEiXSxbMTYsMTcsIlxcc2ltZXEiXSxbMjIsMjUsIlxcbWF0aHJte0hvbX1fUigtLFkpIiwwLHsic2hvcnRlbiI6eyJzb3VyY2UiOjIwLCJ0YXJnZXQiOjIwfX1dLFsyNSwyMCwiU157LTF9KC0pIiwwLHsic2hvcnRlbiI6eyJzb3VyY2UiOjIwLCJ0YXJnZXQiOjIwfX1dXQ==
        \[\begin{tikzcd}
                && 0 & 0 \\
                0 & 0 & 0 & 0 \\
                X & {\mathrm{Hom}_R(X,Y)} & {S^{-1}\mathrm{Hom}_R(X,Y)} & {\mathrm{Hom}_{S^{-1}R}(S^{-1}X,S^{-1}Y)} \\
                {R^m} & {\mathrm{Hom}_R(R^m,Y)} & {S^{-1}\mathrm{Hom}_R(R^m,Y)} & {\mathrm{Hom}_{S^{-1}R}(S^{-1}R^m,S^{-1}Y)} \\
                {R^n} & {\mathrm{Hom}_R(R^n,Y)} & {S^{-1}\mathrm{Hom}_R(R^n,Y)} & {\mathrm{Hom}_{S^{-1}R}(S^{-1}R^n,S^{-1}Y)}
                \arrow[from=2-3, to=3-3]
                \arrow[from=4-3, to=5-3]
                \arrow[""{name=0, anchor=center, inner sep=0}, from=3-3, to=4-3]
                \arrow[from=3-1, to=2-1]
                \arrow[""{name=1, anchor=center, inner sep=0}, from=4-1, to=3-1]
                \arrow[from=5-1, to=4-1]
                \arrow[from=2-2, to=3-2]
                \arrow[""{name=2, anchor=center, inner sep=0}, from=3-2, to=4-2]
                \arrow[from=4-2, to=5-2]
                \arrow["\simeq", from=4-3, to=4-4]
                \arrow["\simeq", from=5-3, to=5-4]
                \arrow[from=3-4, to=4-4]
                \arrow[from=4-4, to=5-4]
                \arrow[from=3-3, to=3-4]
                \arrow[from=2-4, to=3-4]
                \arrow[from=1-3, to=2-3]
                \arrow[from=1-4, to=2-4]
                \arrow["\simeq", from=2-3, to=2-4]
                \arrow["\simeq", from=1-3, to=1-4]
                \arrow["{\mathrm{Hom}_R(-,Y)}", shorten <=10pt, shorten >=10pt, Rightarrow, from=1, to=2]
                \arrow["{S^{-1}(-)}", shorten <=14pt, shorten >=14pt, Rightarrow, from=2, to=0]
            \end{tikzcd}.\]
        由五引理知中间处为同构.
    \end{proof}
\end{proposition}

\begin{remark}
    对有限生成模, 上述同态为单而未必满. 考虑交换环 $R=\mathbb R[X_0,X_1,\ldots]$ 以及商环给出模 $X=\mathbb R[X_0]$, 则 $X$ 有限生成单非有限展示. 考虑
    \begin{align*}
        Y=R/(X_0X_1,X_0^2X_2,\ldots,X_0^nX_n,\ldots),
    \end{align*}
    则 $R$-模同态 $f:X\to Y$ 形如 $1\mapsto F$. 存在足够大的 $m$ 使得 $f(X_0^m)=F\cdot X_0^m=g(X_0)$. 此时对任意 $k$ 均有
    \begin{align*}
        0=f(0)=f(X_0^m\cdot X_k)=X_k\cdot  g(X_0)/(X_0^k).
    \end{align*}
    因此 $g(X_0)/(X_0^k)$ 恒为 $0$, 从而 $g(X_0)=0$. 取 $S=\{1,X_0,X_0^2,\ldots\}$, 则 $S^{-1}\mathrm{Hom}_R(X,Y)=S^{-1}0=0$. 但另一方面,
    \begin{align*}
        S^{-1}X\simeq S^{-1}Y\simeq \mathbb R[X_0^\pm].
    \end{align*}
    显然 $\mathrm{Hom}_{S^{-1}R}(S^{-1}X,S^{-1}Y)=\mathrm{End}_{S^{-1}R}(\mathbb R[X_0^\pm])\neq 0$, 遂矛盾.
\end{remark}

\begin{proposition}\label{fg-fp-proj-flat}
    投射模与平坦模的关系如下
    % https://q.uiver.app/#q=WzAsNCxbMSwwLCJcXHRleHR75pyJ6ZmQ55Sf5oiQ5oqV5bCE5qihfSJdLFswLDAsIlxcdGV4dHvmnInpmZDlsZXnpLrmipXlsITmqKF9Il0sWzIsMCwiXFx0ZXh0e+aciemZkOWxleekuuW5s+WdpuaooX0iXSxbMywwLCJcXHRleHR75pyJ6ZmQ55Sf5oiQ5bmz5Z2m5qihfSJdLFsxLDAsIiIsMCx7ImxldmVsIjoyLCJzdHlsZSI6eyJ0YWlsIjp7Im5hbWUiOiJhcnJvd2hlYWQifX19XSxbMCwyLCIiLDAseyJsZXZlbCI6Miwic3R5bGUiOnsidGFpbCI6eyJuYW1lIjoiYXJyb3doZWFkIn19fV0sWzIsMywiIiwwLHsibGV2ZWwiOjJ9XSxbMywxLCJcXHRleHR75b2T5LiU5LuF5b2T5pivKOWPsynlroznvo7njq/kuIrnmoTlt6bmqKF9IiwwLHsiY3VydmUiOi0zLCJsZXZlbCI6Mn1dXQ==
    \[\begin{tikzcd}
            {\text{有限展示投射模}} & {\text{有限生成投射模}} & {\text{有限展示平坦模}} & {\text{有限生成平坦模}}
            \arrow[Rightarrow, 2tail reversed, from=1-1, to=1-2]
            \arrow[Rightarrow, 2tail reversed, from=1-2, to=1-3]
            \arrow[Rightarrow, from=1-3, to=1-4]
            \arrow["{\text{当且仅当是(右)完美环上的左模}}", curve={height=-18pt}, Rightarrow, from=1-4, to=1-1]
        \end{tikzcd}.\]
    \begin{proof}
        一般地, 有限展示推出有限生成, 投射模推出平坦模, 且投射模有限生成当且记当有限展示. 下证明有限展示平坦模 $X$ 投射. 定义特征模函子为正合函子 $\mathrm{Hom}_{\mathbb Z}(-,\mathbb Q/\mathbb Z)$, 具体如下
        \begin{align*}
            (-)^\ast: R\mathrm{-Mod}\to R^{\mathrm{op}}\mathrm{-Mod},\quad M\mapsto \mathrm{Hom}_{\mathbb Z}(M,\mathbb Q/\mathbb Z)\quad \Big([m\mapsto rm]\mapsto [f(x)\mapsto f(x)r=f(rx)]\Big).
        \end{align*}
        取 $X$ 的展示 $R^m\to R^n\to X\to 0$ 以及任意 $R$-$S$-双模 $Y$, 有同构
        \begin{align*}
            Y^\ast \otimes R^m=(Y^\ast)^m\simeq (\mathrm{Hom}_R(R,Y)^\ast)^m\simeq (\mathrm{Hom}_R(R,Y)^m)^\ast\simeq \mathrm{Hom}_R(R^m,Y)^\ast.
        \end{align*}
        从而有正合列间的同态
        % https://q.uiver.app/#q=WzAsMTAsWzAsMCwiWV5cXGFzdCBcXG90aW1lcyBSXm0iXSxbMSwwLCJZXlxcYXN0IFxcb3RpbWVzIFJebiJdLFsyLDAsIlleXFxhc3QgXFxvdGltZXMgWCJdLFszLDAsIjAiXSxbNCwwLCIwIl0sWzMsMSwiMCJdLFs0LDEsIjAiXSxbMSwxLCJcXG1hdGhybXtIb219X1IoUl5uLFkpXlxcYXN0Il0sWzAsMSwiXFxtYXRocm17SG9tfV9SKFJebSxZKV5cXGFzdCJdLFsyLDEsIlxcbWF0aHJte0hvbX1fUihYLFkpXlxcYXN0Il0sWzAsMV0sWzEsMl0sWzIsM10sWzMsNF0sWzMsNSwiXFxzaW1lcSJdLFs0LDYsIlxcc2ltZXEiXSxbNSw2XSxbOCw3XSxbNyw5XSxbOSw1XSxbMCw4LCJcXHNpbWVxIl0sWzEsNywiXFxzaW1lcSAiXSxbMiw5LCJcXHZhcnBoaSJdXQ==
        \[\begin{tikzcd}
                {Y^\ast \otimes R^m} & {Y^\ast \otimes R^n} & {Y^\ast \otimes X} & 0 & 0 \\
                {\mathrm{Hom}_R(R^m,Y)^\ast} & {\mathrm{Hom}_R(R^n,Y)^\ast} & {\mathrm{Hom}_R(X,Y)^\ast} & 0 & 0
                \arrow[from=1-1, to=1-2]
                \arrow[from=1-2, to=1-3]
                \arrow[from=1-3, to=1-4]
                \arrow[from=1-4, to=1-5]
                \arrow["\simeq", from=1-4, to=2-4]
                \arrow["\simeq", from=1-5, to=2-5]
                \arrow[from=2-4, to=2-5]
                \arrow[from=2-1, to=2-2]
                \arrow[from=2-2, to=2-3]
                \arrow[from=2-3, to=2-4]
                \arrow["\simeq", from=1-1, to=2-1]
                \arrow["{\simeq }", from=1-2, to=2-2]
                \arrow["\varphi", from=1-3, to=2-3]
            \end{tikzcd}.\]
        其中 $\varphi$ 为态射范畴之余核. 依照五引理, $\varphi$ 为同构. 由于 $-\otimes X$ 正合, 故 $(-)^\ast \otimes X\simeq \mathrm{Hom}_R(X,-)^\ast$ 正合, 从而 $X$ 投射.
    \end{proof}
\end{proposition}

\end{document}